"use strict";(self.webpackChunkwiki_base=self.webpackChunkwiki_base||[]).push([[88430],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),l=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=l(e.components);return r.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},g=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),g=l(n),d=a,f=g["".concat(c,".").concat(d)]||g[d]||p[d]||i;return n?r.createElement(f,o(o({ref:t},u),{},{components:n})):r.createElement(f,o({ref:t},u))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=g;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var l=2;l<i;l++)o[l]=n[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}g.displayName="MDXCreateElement"},31655:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var r=n(87462),a=(n(67294),n(3905));const i={},o="Scenario 5",s={unversionedId:"scenarios/llb/scenario-5",id:"scenarios/llb/scenario-5",title:"Scenario 5",description:"LLB configuration under different Scenarios",source:"@site/docs/scenarios/llb/scenario-5.md",sourceDirName:"scenarios/llb",slug:"/scenarios/llb/scenario-5",permalink:"/rc/scenarios/llb/scenario-5",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Scenario 4",permalink:"/rc/scenarios/llb/scenario-4"},next:{title:"Glossary",permalink:"/rc/glossary"}},c={},l=[{value:"Steps to Configure",id:"steps-to-configure",level:3}],u={toc:l};function p(e){let{components:t,...i}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"scenario-5"},"Scenario 5"),(0,a.kt)("p",null,"LLB configuration under different Scenarios"),(0,a.kt)("hr",null),(0,a.kt)("p",null,"Suppose, there is a organization which is having two ISPs from two different service providers. The first ISP link is having IP from network 2.2.2.0/28 and other is having network ID of 3.3.3.0/28.The ISP link that is having static IP addresses  (2.2.2.2) handle all the DMZ traffic.\nBoth ISPs are connected with LLB then there's one link which is connected to firewall. The connectivity between firewall and LLB have network of 172.16.2.0/16, firewall has IP 172.16.2.10 and 172.16.2.20 which respectively forward traffic to DMZ and LAN. "),(0,a.kt)("p",null,"Firewall later connected with DMZ and LAN network which have their own networks respectively 192.168.100.0/24 and 172.16.10.0/16."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Diagram",src:n(32834).Z,width:"830",height:"698"})),(0,a.kt)("h3",{id:"steps-to-configure"},"Steps to Configure"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Port IP Configuration:"),"\nWe need to configure 1 port as per mentioned diagram. WAN ports will be configured as static ports with static route and policies. LAN ports can be configured for mentioned IP without configuring any static route or policies.")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"WAN 1 IP Configuration:"),"\nWe need to go to Stack > Instance > Network > Ethernet and select the interface. Now, we can configure IP address, name-server and other details as per our requirement.")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Diagram",src:n(82333).Z,width:"1237",height:"743"})),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"WAN 2 IP Configuration:"),"\nWe need to go to Stack > Instance > Network > Ethernet and select the interface. Now, we can configure IP address, name-server and other details as per our requirement.")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Diagram",src:n(62713).Z,width:"1237",height:"758"})),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"LAN IP Configuration:"),"\nWe need to go to Stack > Instance > Network > Ethernet and select the interface. Now, we can configure IP address, name-server and other details as per our requirement.")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Diagram",src:n(14328).Z,width:"1238",height:"738"})),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Interface Group Configuration:"),"\nUser can add multiple group of interfaces. They need to go to Stack > LLB Interfaces.")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Diagram",src:n(8512).Z,width:"1706",height:"399"})),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Diagram",src:n(19639).Z,width:"1692",height:"440"})),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"LLB Configuration:"),"\nWe can pass the interface group and enable global load balancing by selecting this option.")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Diagram",src:n(71174).Z,width:"1708",height:"627"})),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Diagram",src:n(19400).Z,width:"1690",height:"622"})),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"SNAT Rule Configuration:"),"\nWe need to Stack > LLB > Rules > Source NAT. We can configure as per our requirement then click on save changes.")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Diagram",src:n(66490).Z,width:"1664",height:"858"})),(0,a.kt)("ol",{start:5},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"DNAT Rule Configuration:"),"\nWe need to go to stack > LLB > Rule > DNAT Rule. Click on add rule button and after configuring you can save and functional the rule by clicking on save changes button.")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Diagram",src:n(46089).Z,width:"1252",height:"654"})),(0,a.kt)("ol",{start:6},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Policy Route Configuration:"),"\nWe need to go to Stack > LLB > Rule > Policy Route. Click on Add Rule button and after configuring you can save and functional the rule by clicking on save changes button.")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Diagram",src:n(89809).Z,width:"1253",height:"745"})),(0,a.kt)("p",null,"In this way, we can configure the LLB in given scenario."))}p.isMDXComponent=!0},32834:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/scenario6-1-eece111448f43e91ab2ecbf4fadf6d95.png"},46089:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/scenario6-10-cecd82d6605b587d33261bb82b69b29d.png"},89809:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/scenario6-11-e7349846468a390a7b55eb92126c8e88.png"},82333:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/scenario6-2-335e6664372001efecbf1a148c84b011.png"},62713:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/scenario6-3-6f6eda87556409d9ece91aaa4e14dfaa.png"},14328:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/scenario6-4-15b50d2f226275ff91d3540c9b486479.png"},8512:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/scenario6-5-affb9a5e8066c2690c0253b659a2978d.png"},19639:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/scenario6-6-bb376d9e01a64935d635a0362e60c44e.png"},71174:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/scenario6-7-22b3d9a2575b33554aced5c1c98fc8e1.png"},19400:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/scenario6-8-a91564d9b7608484b3212fb3deb88753.png"},66490:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/scenario6-9-e76e1e9f839879b1a5b69ede5369e60e.png"}}]);