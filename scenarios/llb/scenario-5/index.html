<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-scenarios/llb/scenario-5">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Scenario 5 | Haltdos</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.haltdos.com/scenarios/llb/scenario-5"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Scenario 5 | Haltdos"><meta data-rh="true" name="description" content="LLB configuration under different Scenarios"><meta data-rh="true" property="og:description" content="LLB configuration under different Scenarios"><link data-rh="true" rel="icon" href="/img/logo/icon_light.ico"><link data-rh="true" rel="canonical" href="https://docs.haltdos.com/scenarios/llb/scenario-5"><link data-rh="true" rel="alternate" href="https://docs.haltdos.com/scenarios/llb/scenario-5" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.haltdos.com/scenarios/llb/scenario-5" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.4e1d1190.css">
<link rel="preload" href="/assets/js/runtime~main.714c7c16.js" as="script">
<link rel="preload" href="/assets/js/main.982ca4cd.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo/icon_light.png" alt="Haltdos" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo/icon_dark.png" alt="Haltdos" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Haltdos Docs</b></a><a class="navbar__item navbar__link" href="/kb">Knowledge Base</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/introduction">7.0</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/scenarios/llb/scenario-5">7.0</a></li><li><a class="dropdown__link" href="/v6/scenarios/llb/scenario-5">6.0</a></li></ul></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/customer-portal">Customer Portal</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/community">Community WAF</a><button aria-label="Toggle the collapsible sidebar category &#x27;Community WAF&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item sidebar-title"><br>Commercial Products<br></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/products/platform/">Haltdos Platform</a><button aria-label="Toggle the collapsible sidebar category &#x27;Haltdos Platform&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/products/ddos/">Anti-DDoS</a><button aria-label="Toggle the collapsible sidebar category &#x27;Anti-DDoS&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/products/waf/">Web Application Firewall</a><button aria-label="Toggle the collapsible sidebar category &#x27;Web Application Firewall&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/products/llb/">Link Load Balancer</a><button aria-label="Toggle the collapsible sidebar category &#x27;Link Load Balancer&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/products/adc/">ADC/SLB</a><button aria-label="Toggle the collapsible sidebar category &#x27;ADC/SLB&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/products/remote-access-gw/">Remote Access Gateway</a><button aria-label="Toggle the collapsible sidebar category &#x27;Remote Access Gateway&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/products/gslb/">Global Server Load Balancer</a><button aria-label="Toggle the collapsible sidebar category &#x27;Global Server Load Balancer&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/products/cloud/">Haltdos Cloud</a><button aria-label="Toggle the collapsible sidebar category &#x27;Haltdos Cloud&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item sidebar-title"><br>Deployment Scenarios<br></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/scenarios/adc/">ADC</a><button aria-label="Toggle the collapsible sidebar category &#x27;ADC&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/scenarios/llb/">LLB</a><button aria-label="Toggle the collapsible sidebar category &#x27;LLB&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scenarios/llb/scenario-1">Scenario 1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scenarios/llb/scenario-2">Scenario 2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scenarios/llb/scenario-3">Scenario 3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scenarios/llb/scenario-4">Scenario 4</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/scenarios/llb/scenario-5">Scenario 5</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item sidebar-title"><br>Others</li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/glossary">Glossary</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="custom_doc_item_wrapper custom_doc_item_wrapper_SmwM"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/scenarios/llb/"><span itemprop="name">LLB</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Scenario 5</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 7.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Scenario 5</h1><p>LLB configuration under different Scenarios</p><hr><p>Suppose, there is a organization which is having two ISPs from two different service providers. The first ISP link is having IP from network 2.2.2.0/28 and other is having network ID of 3.3.3.0/28.The ISP link that is having static IP addresses  (2.2.2.2) handle all the DMZ traffic.
Both ISPs are connected with LLB then there&#x27;s one link which is connected to firewall. The connectivity between firewall and LLB have network of 172.16.2.0/16, firewall has IP 172.16.2.10 and 172.16.2.20 which respectively forward traffic to DMZ and LAN. </p><p>Firewall later connected with DMZ and LAN network which have their own networks respectively 192.168.100.0/24 and 172.16.10.0/16.</p><p><img loading="lazy" alt="Diagram" src="/assets/images/scenario6-1-eece111448f43e91ab2ecbf4fadf6d95.png" width="830" height="698" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="steps-to-configure">Steps to Configure<a href="#steps-to-configure" class="hash-link" aria-label="Direct link to Steps to Configure" title="Direct link to Steps to Configure">​</a></h3><ol><li><strong>Port IP Configuration:</strong>
We need to configure 1 port as per mentioned diagram. WAN ports will be configured as static ports with static route and policies. LAN ports can be configured for mentioned IP without configuring any static route or policies.</li></ol><ul><li><strong>WAN 1 IP Configuration:</strong>
We need to go to Stack &gt; Instance &gt; Network &gt; Ethernet and select the interface. Now, we can configure IP address, name-server and other details as per our requirement.</li></ul><p><img loading="lazy" alt="Diagram" src="/assets/images/scenario6-2-335e6664372001efecbf1a148c84b011.png" width="1237" height="743" class="img_ev3q"></p><ul><li><strong>WAN 2 IP Configuration:</strong>
We need to go to Stack &gt; Instance &gt; Network &gt; Ethernet and select the interface. Now, we can configure IP address, name-server and other details as per our requirement.</li></ul><p><img loading="lazy" alt="Diagram" src="/assets/images/scenario6-3-6f6eda87556409d9ece91aaa4e14dfaa.png" width="1237" height="758" class="img_ev3q"></p><ul><li><strong>LAN IP Configuration:</strong>
We need to go to Stack &gt; Instance &gt; Network &gt; Ethernet and select the interface. Now, we can configure IP address, name-server and other details as per our requirement.</li></ul><p><img loading="lazy" alt="Diagram" src="/assets/images/scenario6-4-15b50d2f226275ff91d3540c9b486479.png" width="1238" height="738" class="img_ev3q"></p><ol start="2"><li><strong>Interface Group Configuration:</strong>
User can add multiple group of interfaces. They need to go to Stack &gt; LLB Interfaces.</li></ol><p><img loading="lazy" alt="Diagram" src="/assets/images/scenario6-5-affb9a5e8066c2690c0253b659a2978d.png" width="1706" height="399" class="img_ev3q"></p><p><img loading="lazy" alt="Diagram" src="/assets/images/scenario6-6-bb376d9e01a64935d635a0362e60c44e.png" width="1692" height="440" class="img_ev3q"></p><ol start="3"><li><strong>LLB Configuration:</strong>
We can pass the interface group and enable global load balancing by selecting this option.</li></ol><p><img loading="lazy" alt="Diagram" src="/assets/images/scenario6-7-22b3d9a2575b33554aced5c1c98fc8e1.png" width="1708" height="627" class="img_ev3q"></p><p><img loading="lazy" alt="Diagram" src="/assets/images/scenario6-8-a91564d9b7608484b3212fb3deb88753.png" width="1690" height="622" class="img_ev3q"></p><ol start="4"><li><strong>SNAT Rule Configuration:</strong>
We need to Stack &gt; LLB &gt; Rules &gt; Source NAT. We can configure as per our requirement then click on save changes.</li></ol><p><img loading="lazy" alt="Diagram" src="/assets/images/scenario6-9-e76e1e9f839879b1a5b69ede5369e60e.png" width="1664" height="858" class="img_ev3q"></p><ol start="5"><li><strong>DNAT Rule Configuration:</strong>
We need to go to stack &gt; LLB &gt; Rule &gt; DNAT Rule. Click on add rule button and after configuring you can save and functional the rule by clicking on save changes button.</li></ol><p><img loading="lazy" alt="Diagram" src="/assets/images/scenario6-10-cecd82d6605b587d33261bb82b69b29d.png" width="1252" height="654" class="img_ev3q"></p><ol start="6"><li><strong>Policy Route Configuration:</strong>
We need to go to Stack &gt; LLB &gt; Rule &gt; Policy Route. Click on Add Rule button and after configuring you can save and functional the rule by clicking on save changes button.</li></ol><p><img loading="lazy" alt="Diagram" src="/assets/images/scenario6-11-e7349846468a390a7b55eb92126c8e88.png" width="1253" height="745" class="img_ev3q"></p><p>In this way, we can configure the LLB in given scenario.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/scenarios/llb/scenario-4"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Scenario 4</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/glossary"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Glossary</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#steps-to-configure" class="table-of-contents__link toc-highlight">Steps to Configure</a></li></ul></div></div></div><div class="custom_doc_item_footer_xzT7"></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.714c7c16.js"></script>
<script src="/assets/js/main.982ca4cd.js"></script>
</body>
</html>